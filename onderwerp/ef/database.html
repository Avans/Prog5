<md-toolbar class="md-theme-indigo">
	<h1 class="md-toolbar-tools">Entity Framework</h1>
</md-toolbar>

<section class="max-sized">
    
  <article class="md-padding">
      <h2>Database</h2>

      <p>
          We gaan niet ver komen zonder een database. Nu gaan we deze niet zelf in elkaar vlechten met SQL statements of met een andere applicatie. 
          Visual Studio bied ons hiervoor namelijk een mooie oplossing, een SQL Database project. 
      </p>
  </article>

  <md-card>
      <img src="onderwerp/ef/img/sqldatabaseproject.png" />
  </md-card>

  <article class="md-padding">

      <p>
          Dit project bied ons de mogelijkheid om onze database te ontwerpen en te publiceren in verschillende omgevingen (lokaal of bijv. remote op de avans database).
          Daarnaast kunnen we nog handelingen uitvoeren na het publishen zoals bijvoorbeeld test data toevoegen. 
      </p>

      <p>
          Let even  goed op voor welke versie van Microsoft SQL Server je een database aan het ontwerpen bent. 
          Dit zie je terug in de properties van het project.
      </p>


  </article>
    
    <md-card layout="row" layout-xs="column">
      <section  flex="1"> 
        <md-card-content>
            <h3>Tabellen</h3>
            <p>
                Visual studio bied je de mogelijkheid om je database te ontwerpen in een visuele editor die de bijbehorende SQL scripts genereerd. 
                Je kan natuurlijk ook rechtstreeks de SQL scripts aanpassen. 
            </p>

            <p>Op deze manier is het ook het ontwerp van je database onderdeel van je versie beheer. </p>
        </md-card-content>
      </section>
      <section flex="2">
        <img  src="onderwerp/ef/img/tables.png" />
      </section>
    </md-card>


    <article class="md-padding" flex="1">

        <h3>Publish scripts</h3>

        <img  src="onderwerp/ef/img/publish.png"  width="500px" class="photo img-right" />

        <p>
        Als je al je SQL skills hebt ingezet om een relationele database te ontwerpen kunnen we de database gaan uitrollen. 
        Normaal zou je dit waarschijnlijk handmatig alle scripts in de juiste volgorde moeten uitvoeren om dit voor elkaar te krijgen. 
        </p>

        

        <p>
        In Visual Studio heb je de mogelijkheid om dit te automatiseren. 
        Je kan eenmalig een database project publishen (rechtermuisknop op het database project > publish).
        Maak verbinding met de juiste server en selecteer een bestaande database, of voer een nieuwe naam in voor een nieuwe database. 
        </p>

      <p>
        Het komt vaak voor dat je tijdens het developen opnieuw de database wilt publishen, omdat je bijvoorbeeld een tabel hebt aangepast. 
        Je hebt daarom ook de mogelijkheid om een publish profile aan te maken. 
        Dit is een XML bestand waarmee je automatisch een server en database selecteerd om op uit te rollen. 
      </p>

    </article>


  
  <md-card>
    <md-toolbar>
        <h1 class="md-toolbar-tools">Post Deployment</h1>
    </md-toolbar>
    <md-card-content>
        
        <p>
            Vaak zijn er wel meer handelingen betrokken bij het uitrollen van een database dan alleen het uitrollen van de database!
            Een database zonder data is bijvoorbeeld nogal onhandig. Het zal niet de eerste keer zijn dat een demo geen realistische test data bevat 
            maar ook tijdens het ontwikkelen help realistische test data bij het vinden van bijvoorbeeld bugs. 
        </p>

        <p>
            Gelukkig kun je na het publishen Visual Studio nog een aantal andere acties laten uitvoeren. Dit noemen we een Post-Deployment script.
            Dit script kun je toevoegen aan een SQl database project en stelt je in staat om self SQL statements uit te voeren, of nog beter, andere SQL scripts. 
        </p>

       
            
    </md-card-content>

     <img  src="onderwerp/ef/img/postdeploy.png" />

  </md-card>

    <div class="md-actions navigate" layout="row" layout-align="center center">      
      <md-button ui-sref="efIntroductie">
          <ng-md-icon icon="navigate_before" size="36"></ng-md-icon> 
           <md-tooltip>Introductie</md-tooltip>
      </md-button>
      <md-button  ui-sref="efEntityframework" >
          <ng-md-icon icon="navigate_next"  size="36"></ng-md-icon> 
          <md-tooltip>Entity Framework</md-tooltip>
      </md-button>
    </div>

</section>